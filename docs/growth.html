<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><meta name="next-head-count" content="2"/><link rel="preload" href="/ccpa-script/_next/static/Q_xJfsNcYHsdzHY8aZLsA/pages/_app.js" as="script"/><link rel="preload" href="/ccpa-script/_next/static/Q_xJfsNcYHsdzHY8aZLsA/pages/%5Baspect%5D.js" as="script"/><link rel="preload" href="/ccpa-script/_next/static/runtime/webpack-c212667a5f965e81e004.js" as="script"/><link rel="preload" href="/ccpa-script/_next/static/chunks/framework.c8d289f8b96717e32d7a.js" as="script"/><link rel="preload" href="/ccpa-script/_next/static/chunks/c29f0eb2acb399853441478554bb496c70a0ebe4.bf9a2f2c7844c1fca410.js" as="script"/><link rel="preload" href="/ccpa-script/_next/static/chunks/53994def3ad3a7844a3a93b0ea7eeb53c3a471d1.c45c22d63ff5241eb457.js" as="script"/><link rel="preload" href="/ccpa-script/_next/static/chunks/9c5454a0aee8f7991ed78a49037a3f1b2641bde3.4a2e827e9938d08b2ced.js" as="script"/><link rel="preload" href="/ccpa-script/_next/static/runtime/main-f72e68003ca81f9f3f61.js" as="script"/><link rel="preload" href="/ccpa-script/_next/static/chunks/6ea351b3fd2d46f35fc9e2cf6685a75d357f9a62.1d984564a229493a7e9e.js" as="script"/></head><body><div id="__next"><style data-emotion-css="x4uzf6">{box-sizing:border-box;}button{border:none;border-radius:0;margin:0;padding:0;width:auto;overflow:visible;background:transparent;}button:focus{outline:none;box-shadow:none;}</style><main><style data-emotion-css="72c57t">.css-72c57t{font-size:1.875rem;}</style><h1 class="css-72c57t">Growth CCPA Script</h1><style data-emotion-css="4y9tky">.css-4y9tky{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-align-items:stretch;-webkit-box-align:stretch;-ms-flex-align:stretch;align-items:stretch;height:calc(0rem - 1.25rem);margin:1.25rem 0 1.25rem;}</style><div class="css-4y9tky"><style data-emotion-css="2yylng">.css-2yylng{max-width:25rem;width:30%;border-right:0.0625rem solid black;margin-right:0.625rem;}</style><div class="css-2yylng"><style data-emotion-css="1y53lsb">.css-1y53lsb{font-size:1.25rem;text-align:center;}</style><h3 class="css-1y53lsb">content table</h3><style data-emotion-css="196vcl3">.css-196vcl3{width:calc(100% - 2 * 0.3125rem);border-top:0.0625rem solid black;margin:0.3125rem;}</style><div class="css-196vcl3"></div><style data-emotion-css="s5rw7l">.css-s5rw7l{margin:0.625rem;margin-bottom:1.25rem;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start;-webkit-align-items:stretch;-webkit-box-align:stretch;-ms-flex-align:stretch;align-items:stretch;overflow:hidden;overflow-y:auto;max-height:calc(0rem - 1.25rem);}</style><div class="css-s5rw7l"></div></div><style data-emotion-css="8atqhb">.css-8atqhb{width:100%;}</style><div class="css-8atqhb"><style data-emotion-css="vr7ngo">.css-vr7ngo{margin-bottom:0.625rem;}</style><div class="css-vr7ngo"><style data-emotion-css="jxdl3v">.css-jxdl3v{font-size:1.125rem;margin:0.5rem;font-family:inherent;text-align:left;color:blue;cursor:pointer;}.css-jxdl3v:hover{color:red;}</style><button type="button" class="css-jxdl3v">▲ </button><style data-emotion-css="130u797">.css-130u797{font-size:1.5rem;margin:0.5rem;font-family:inherent;}</style><div class="css-130u797"></div><button type="button" class="css-jxdl3v">▼ </button></div></div><style data-emotion-css="1q1ou2n">.css-1q1ou2n{max-width:31.25rem;width:30%;border-left:0.0625rem solid black;margin-left:0.625rem;}</style><div class="css-1q1ou2n"><h3 class="css-1y53lsb">script result</h3><div class="css-196vcl3"></div></div></div></main></div><script id="__NEXT_DATA__" type="application/json">{"props":{"initialProps":{"appProps":{}},"initialState":{"scriptSnippet":{"ids":[],"entities":{}},"variable":{"ids":[],"entities":{}},"scriptType":[],"scriptDatabase":[],"step":{"steps":{},"choiceControl":{"ids":[],"entities":{}}}},"__N_SSG":true,"pageProps":{"yamlData":{"steps":[{"id":"begin","visible":false,"check":{"script":{"db":"drupal","snippets":["set_email_var"]}},"delete":{"script":{"db":"drupal","snippets":["set_request_number","set_user_id","compose_email_placeholder","compose_text_placeholder"]}}},{"id":"email","check":{"description":"check if the email is in users table in bidata DB\n","choices":["yes","no"],"script":{"db":"drupal","snippets":["find_user_id","show_user_id"]}},"delete":{"description":"create sql to \"delete\" in users table\n","script":{"db":"drupal","snippets":["update_placeholder_in_users"]}}}],"types":["check","delete"],"db":["drupal","sessions","di","jobs","di_jobs"],"vars":{"email":{"description":"email address from OneTrust\n"},"requestNumber":{"description":"request number from OneTrust\n"},"userId":{"description":"user id from the main drupal database\n"},"emailPlaceholder":{"description":"placeholder to replace email reference\n"},"textPlaceholder":{"description":"placeholder to replace text reference\n"}},"snippets":{"set_email_var":"set @email = {{email}};\n","find_user_id":"select uid into @UID from users where mail = @email;\n","show_user_id":"select @UID;\n","set_request_number":"set @requestnumber = {{requestNumber}};\n","set_user_id":"set @UID = {{userId}};\n","compose_email_placeholder":"select concat(\"deleted-onetrust-req-\", @requestnumber, \"@privacy.mntd.net\") into @emailplaceholder;\n","compose_text_placeholder":"select concat(\"Deleted per onetrust\", @requestnumber) into @textplaceholder;\n","update_placeholder_in_users":"update users\nset\nname = @textplaceholder,\ninit = @textplaceholder,\nmail = @emailplaceholder,\npass = textplaceholder,\nwhere uid = @UID;\n"}},"aspect":"growth"}},"page":"/[aspect]","query":{"aspect":"growth"},"buildId":"Q_xJfsNcYHsdzHY8aZLsA","assetPrefix":"/ccpa-script","runtimeConfig":{},"nextExport":false,"isFallback":false,"gsp":true,"appGip":true}</script><script nomodule="" src="/ccpa-script/_next/static/runtime/polyfills-1c161e633660818aa2c3.js"></script><script async="" data-next-page="/_app" src="/ccpa-script/_next/static/Q_xJfsNcYHsdzHY8aZLsA/pages/_app.js"></script><script async="" data-next-page="/[aspect]" src="/ccpa-script/_next/static/Q_xJfsNcYHsdzHY8aZLsA/pages/%5Baspect%5D.js"></script><script src="/ccpa-script/_next/static/runtime/webpack-c212667a5f965e81e004.js" async=""></script><script src="/ccpa-script/_next/static/chunks/framework.c8d289f8b96717e32d7a.js" async=""></script><script src="/ccpa-script/_next/static/chunks/c29f0eb2acb399853441478554bb496c70a0ebe4.bf9a2f2c7844c1fca410.js" async=""></script><script src="/ccpa-script/_next/static/chunks/53994def3ad3a7844a3a93b0ea7eeb53c3a471d1.c45c22d63ff5241eb457.js" async=""></script><script src="/ccpa-script/_next/static/chunks/9c5454a0aee8f7991ed78a49037a3f1b2641bde3.4a2e827e9938d08b2ced.js" async=""></script><script src="/ccpa-script/_next/static/runtime/main-f72e68003ca81f9f3f61.js" async=""></script><script src="/ccpa-script/_next/static/chunks/6ea351b3fd2d46f35fc9e2cf6685a75d357f9a62.1d984564a229493a7e9e.js" async=""></script><script src="/ccpa-script/_next/static/Q_xJfsNcYHsdzHY8aZLsA/_buildManifest.js" async=""></script><script src="/ccpa-script/_next/static/Q_xJfsNcYHsdzHY8aZLsA/_ssgManifest.js" async=""></script></body></html>