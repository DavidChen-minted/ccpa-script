<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><meta name="next-head-count" content="2"/><link rel="preload" href="/ccpa-script/_next/static/mlOjkZ44AlZgpinJu640q/pages/_app.js" as="script"/><link rel="preload" href="/ccpa-script/_next/static/mlOjkZ44AlZgpinJu640q/pages/%5Baspect%5D.js" as="script"/><link rel="preload" href="/ccpa-script/_next/static/runtime/webpack-c212667a5f965e81e004.js" as="script"/><link rel="preload" href="/ccpa-script/_next/static/chunks/framework.c8d289f8b96717e32d7a.js" as="script"/><link rel="preload" href="/ccpa-script/_next/static/chunks/2f7145c952d0ddad20a7f023025983333e6d8b2e.ef2b2646f444cb0451e0.js" as="script"/><link rel="preload" href="/ccpa-script/_next/static/chunks/6467b23de2732a25a2ff59e03be495dc6cb6769a.b50a31b9e106c2488862.js" as="script"/><link rel="preload" href="/ccpa-script/_next/static/chunks/7f2eb0e9f1042a521ad36d35bd33767818f1544a.69444a05c9a1ec865384.js" as="script"/><link rel="preload" href="/ccpa-script/_next/static/runtime/main-cb941a1a9ddf815abe96.js" as="script"/></head><body><div id="__next"><style data-emotion-css="18ylox7">button{border:none;border-radius:0;margin:0;padding:0;width:auto;overflow:visible;background:transparent;}button:focus{outline:none;box-shadow:none;}</style><main><style data-emotion-css="72c57t">.css-72c57t{font-size:1.875rem;}</style><h1 class="css-72c57t">Growth CCPA Script</h1><style data-emotion-css="1vaae5g">.css-1vaae5g{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;margin:1.25rem 0;}.css-1vaae5g > div{border:1px solid black;}</style><div class="css-1vaae5g"><style data-emotion-css="1c2ea8n">.css-1c2ea8n{max-width:25rem;width:30%;}</style><div class="css-1c2ea8n"><style data-emotion-css="1y53lsb">.css-1y53lsb{font-size:1.25rem;text-align:center;}</style><h3 class="css-1y53lsb">content table</h3></div><style data-emotion-css="8atqhb">.css-8atqhb{width:100%;}</style><div class="css-8atqhb"><h3 class="css-1y53lsb">Display</h3></div><style data-emotion-css="5dgdpm">.css-5dgdpm{max-width:31.25rem;width:30%;}</style><div class="css-5dgdpm"><h3 class="css-1y53lsb">script result</h3></div></div></main></div><script id="__NEXT_DATA__" type="application/json">{"props":{"initialProps":{"appProps":{}},"initialState":{"scriptSnippet":{"ids":[],"entities":{}},"variable":{"ids":[],"entities":{}},"scriptType":[],"scriptDatabase":[],"step":{}},"__N_SSG":true,"pageProps":{"yamlData":{"steps":[{"id":"begin","visible":false,"check":{"script":{"db":"drupal","snippets":["set_email_var"]}},"delete":{"script":{"db":"drupal","snippets":["set_request_number","set_user_id","compose_email_placeholder","compose_text_placeholder"]}}},{"id":"email","check":{"description":"check if the email is in users table in bidata DB\n","choices":["yes","no"],"script":{"db":"drupal","snippets":["find_user_id","show_user_id"]}},"delete":{"description":"create sql to \"delete\" in users table\n","script":{"db":"drupal","snippets":["update_placeholder_in_users"]}}}],"types":["check","delete"],"db":["drupal","sessions","di","jobs","di_jobs"],"vars":{"email":{"description":"email address from OneTrust\n"},"requestNumber":{"description":"request number from OneTrust\n"},"userId":{"description":"user id from the main drupal database\n"},"emailPlaceholder":{"description":"placeholder to replace email reference\n"},"textPlaceholder":{"description":"placeholder to replace text reference\n"}},"snippets":{"set_email_var":"set @email = {{email}};\n","find_user_id":"select uid into @UID from users where mail = @email;\n","show_user_id":"select @UID;\n","set_request_number":"set @requestnumber = {{requestNumber}};\n","set_user_id":"set @UID = {{userId}};\n","compose_email_placeholder":"select concat(\"deleted-onetrust-req-\", @requestnumber, \"@privacy.mntd.net\") into @emailplaceholder;\n","compose_text_placeholder":"select concat(\"Deleted per onetrust\", @requestnumber) into @textplaceholder;\n","update_placeholder_in_users":"update users\nset\nname = @textplaceholder,\ninit = @textplaceholder,\nmail = @emailplaceholder,\npass = textplaceholder,\nwhere uid = @UID;\n"}},"aspect":"growth"}},"page":"/[aspect]","query":{"aspect":"growth"},"buildId":"mlOjkZ44AlZgpinJu640q","assetPrefix":"/ccpa-script","runtimeConfig":{},"nextExport":false,"isFallback":false,"gsp":true,"appGip":true}</script><script nomodule="" src="/ccpa-script/_next/static/runtime/polyfills-788a592a52ba46c11fcc.js"></script><script async="" data-next-page="/_app" src="/ccpa-script/_next/static/mlOjkZ44AlZgpinJu640q/pages/_app.js"></script><script async="" data-next-page="/[aspect]" src="/ccpa-script/_next/static/mlOjkZ44AlZgpinJu640q/pages/%5Baspect%5D.js"></script><script src="/ccpa-script/_next/static/runtime/webpack-c212667a5f965e81e004.js" async=""></script><script src="/ccpa-script/_next/static/chunks/framework.c8d289f8b96717e32d7a.js" async=""></script><script src="/ccpa-script/_next/static/chunks/2f7145c952d0ddad20a7f023025983333e6d8b2e.ef2b2646f444cb0451e0.js" async=""></script><script src="/ccpa-script/_next/static/chunks/6467b23de2732a25a2ff59e03be495dc6cb6769a.b50a31b9e106c2488862.js" async=""></script><script src="/ccpa-script/_next/static/chunks/7f2eb0e9f1042a521ad36d35bd33767818f1544a.69444a05c9a1ec865384.js" async=""></script><script src="/ccpa-script/_next/static/runtime/main-cb941a1a9ddf815abe96.js" async=""></script><script src="/ccpa-script/_next/static/mlOjkZ44AlZgpinJu640q/_buildManifest.js" async=""></script><script src="/ccpa-script/_next/static/mlOjkZ44AlZgpinJu640q/_ssgManifest.js" async=""></script></body></html>